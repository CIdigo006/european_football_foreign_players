import{d as $,T as R,B as U,g as Y,h as t,x as V,I as q,ao as A,aM as D,k as u,c as k,l as a,a as m,o as d,q as l,u as e,bT as I,bU as w,aR as S,bV as z,bW as F,G}from"./index-7ce61d56.js";import{u as M}from"./usePageTitle-173ab940.js";const E=$({__name:"WorkPool",setup(O){const _=R(),r=U("workPoolName"),f={interval:3e5},p=Y(_.workPools.getWorkPoolByName,[r.value],f),o=t(()=>p.response),c=t(()=>{var n;return((n=o.value)==null?void 0:n.type)==="prefect-agent"}),v=t(()=>[{label:"Details",hidden:V.xl},{label:"Runs"},{label:"Work Queues"},{label:"Workers",hidden:c.value}]),s=q("tab","Details"),{tabs:b}=A(v,s),P=t(()=>o.value?`Your work pool ${o.value.name} is ready to go!`:"Your work pool is ready to go!"),g=t(()=>{var n;return`prefect ${c.value?"agent":"worker"} start --pool "${(n=o.value)==null?void 0:n.name}"`}),y=t(()=>`Work pools organize work that ${c.value?"Prefect agents":"Prefect workers"} can pull from.`),{filter:B}=D({workPools:{name:[r.value]}}),W=t(()=>o.value?`Work Pool: ${o.value.name}`:"Work Pool");return M(W),(n,i)=>{const C=u("CodeBanner"),h=u("p-tabs"),T=u("p-layout-well"),x=u("p-layout-default");return o.value?(d(),k(x,{key:0},{header:a(()=>[l(e(I),{"work-pool":o.value,onUpdate:e(p).refresh},null,8,["work-pool","onUpdate"])]),default:a(()=>[o.value?(d(),k(T,{key:0,class:"work-pool"},{header:a(()=>[l(C,{command:g.value,title:P.value,subtitle:y.value},null,8,["command","title","subtitle"])]),well:a(()=>[l(e(w),{alternate:"","work-pool":o.value},null,8,["work-pool"])]),default:a(()=>[l(h,{selected:e(s),"onUpdate:selected":i[0]||(i[0]=N=>G(s)?s.value=N:null),tabs:e(b)},{details:a(()=>[l(e(w),{"work-pool":o.value},null,8,["work-pool"])]),runs:a(()=>[l(e(S),{"flow-run-filter":e(B)},null,8,["flow-run-filter"])]),"work-queues":a(()=>[l(e(z),{"work-pool-name":e(r)},null,8,["work-pool-name"])]),workers:a(()=>[l(e(F),{"work-pool-name":e(r)},null,8,["work-pool-name"])]),_:1},8,["selected","tabs"])]),_:1})):m("",!0)]),_:1})):m("",!0)}}});export{E as default};
